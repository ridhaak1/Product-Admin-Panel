<%- include("partials/navbar") %>
<main>
  <form action="#">
    <div class="field is-grouped">
    <p class="control is-expanded">
    <input class="input" type="search" name="search" value="<%= search || '' %>" placeholder="search üîç">
    </p>
    <p class="control">
    <button class="button is-info" type="submit">üîç</button>
    </p>
    </div>
  </form>
<table class="table-modern">
    <thead>
        <tr>
          <form method="get" action="">
            <th>
              <input type="hidden" name="sortField" value="name">
              <input type="hidden" name="order" value="<%= (currentOrder ==='asc')? 'desc' : 'asc' %>">
              <button type="submit">
              Name <span  class="<%= (currentSort === 'name') ? 'is-active' : '' %>"><%= (currentOrder==='asc') ? '‚ñ≤' : '‚ñº' %></span></button>
            </th>
            </form>
            <form method="get" action="">
            <th>
              <input type="hidden" name="sortField" value="foundDate">
              <input type="hidden" name="order" value="<%= (currentOrder==='asc')? 'desc' : 'asc' %>">
              <button type="submit">
              Found Date <span class="<%= (currentSort === 'foundDate') ? 'is-active' : '' %>"><%= (currentOrder==='asc')? '‚ñ≤' : '‚ñº' %></span></button>
            </th>
            </form>
            <th><button>Id</button></th>
            <form method="get" action="">
            <th>
              <input type="hidden" name="sortField" value="population">
              <input type="hidden" name="order" value="<%= (currentOrder==='asc') ? 'desc' : 'asc' %>">
              <button type="submit">
                Population <span class="<%= (currentSort === 'population') ? 'is-active' : '' %>"><%= (currentOrder==='asc') ? '‚ñ≤' : '‚ñº' %></span></button>
            </th>
            </form>
            <th><button>Is Capital</button></th>
            <th><button>Action</button></th>
        </tr>
    </thead>
    <tbody>
        <% cities.forEach(city => { %>
        <tr>
          <td data-label="Name">
            <div class="tooltip">
              <figure class="image is-32x32">
                <img class="is-rounded" src="<%= city.imageUrl %>" alt="City Image">
              </figure>

              <span class="city-name"><%= city.name %></span>

              <!-- Tooltip box -->
              <span class="tooltip-text">
                <strong><%= city.name %></strong><br>
                <%= city.description %>
              </span>
            </div>
          </td>
          <td data-label="Found Date"><%= city.foundedDate %></td>
          <td data-label="Id"><%= city.id %></td>
          <td data-label="Population"><%= city.population %></td>
          <td data-label="Is Capital"><%= city.isCapital %></td>
          <td data-label="Action"><a href="details/<%= city.id %>" target="_blank">View details</a></td>
        </tr>
        <% }); %>
    </tbody>
</table>
</main>
<%- include("partials/footer") %>